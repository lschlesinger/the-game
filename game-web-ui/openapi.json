{
  "servers": [
    {
      "url": "http:\/\/127.0.0.1:8080"
    }
  ],
  "paths": {
    "\/v1\/game\/{gameId}\/join": {
      "put": {
        "operationId": "PUTJoinGame",
        "responses": {
          "404": {
            "description": "Not Found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          },
          "200": {
            "content": {
              "application\/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "$ref": "#\/components\/schemas\/Game"
                    },
                    "_links": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string"
                      }
                    }
                  },
                  "title": "GameResponse",
                  "type": "object",
                  "required": [
                    "_links",
                    "data"
                  ]
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "description": "JoinGame",
        "x-handlerId": "0:1:-1:0:2:0:1:0",
        "parameters": [
          {
            "description": "@Parameter var gameId: String",
            "in": "path",
            "name": "gameId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "playerId",
            "schema": {
              "type": "string"
            },
            "description": "@Parameter var playerId: String"
          }
        ]
      }
    },
    "\/v1\/game\/{gameId}\/pass": {
      "put": {
        "operationId": "PUTPassGame",
        "responses": {
          "404": {
            "description": "Not Found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          },
          "200": {
            "content": {
              "application\/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "$ref": "#\/components\/schemas\/Game"
                    },
                    "_links": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string"
                      }
                    }
                  },
                  "title": "GameResponse",
                  "type": "object",
                  "required": [
                    "_links",
                    "data"
                  ]
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "description": "PassGame",
        "x-handlerId": "0:1:-1:0:2:0:4:0",
        "parameters": [
          {
            "description": "@Parameter var gameId: String",
            "in": "path",
            "name": "gameId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "\/v1\/game\/{gameId}": {
      "get": {
        "operationId": "GETGetGame",
        "responses": {
          "404": {
            "description": "Not Found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          },
          "200": {
            "content": {
              "application\/json": {
                "schema": {
                  "properties": {
                    "_links": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string"
                      }
                    },
                    "data": {
                      "$ref": "#\/components\/schemas\/Game"
                    }
                  },
                  "title": "GameResponse",
                  "type": "object",
                  "required": [
                    "_links",
                    "data"
                  ]
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "description": "GetGame",
        "x-handlerId": "0:1:-1:0:2:0:0",
        "parameters": [
          {
            "description": "@Parameter var gameId: String",
            "in": "path",
            "name": "gameId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "\/v1\/game\/{gameId}\/start": {
      "put": {
        "operationId": "PUTStartGame",
        "responses": {
          "404": {
            "description": "Not Found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          },
          "200": {
            "content": {
              "application\/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "$ref": "#\/components\/schemas\/Game"
                    },
                    "_links": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string"
                      }
                    }
                  },
                  "title": "GameResponse",
                  "type": "object",
                  "required": [
                    "_links",
                    "data"
                  ]
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "description": "StartGame",
        "x-handlerId": "0:1:-1:0:2:0:2:0",
        "parameters": [
          {
            "description": "@Parameter var gameId: String",
            "in": "path",
            "name": "gameId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "\/v1\/game": {
      "get": {
        "operationId": "GETGetGames",
        "responses": {
          "404": {
            "description": "Not Found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          },
          "200": {
            "content": {
              "application\/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "type": "object",
                      "additionalProperties": {
                        "$ref": "#\/components\/schemas\/Game"
                      }
                    },
                    "_links": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string"
                      }
                    }
                  },
                  "title": "GameResponse",
                  "type": "object",
                  "required": [
                    "_links",
                    "data"
                  ]
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "description": "GetGames",
        "x-handlerId": "0:1:-1:0:0"
      },
      "post": {
        "operationId": "POSTCreateGame",
        "responses": {
          "404": {
            "description": "Not Found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          },
          "200": {
            "content": {
              "application\/json": {
                "schema": {
                  "properties": {
                    "_links": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string"
                      }
                    },
                    "data": {
                      "$ref": "#\/components\/schemas\/Game"
                    }
                  },
                  "title": "GameResponse",
                  "type": "object",
                  "required": [
                    "_links",
                    "data"
                  ]
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "description": "CreateGame",
        "x-handlerId": "0:1:-1:0:1",
        "parameters": [
          {
            "in": "query",
            "name": "name",
            "schema": {
              "type": "string"
            },
            "description": "@Parameter var name: String"
          }
        ]
      }
    },
    "\/v1\/game\/{gameId}\/play": {
      "put": {
        "x-handlerId": "0:1:-1:0:2:0:3:0",
        "operationId": "PUTPlayGame",
        "responses": {
          "404": {
            "description": "Not Found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          },
          "200": {
            "content": {
              "application\/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "$ref": "#\/components\/schemas\/Game"
                    },
                    "_links": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string"
                      }
                    }
                  },
                  "title": "GameResponse",
                  "type": "object",
                  "required": [
                    "_links",
                    "data"
                  ]
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "description": "PlayGame",
        "requestBody": {
          "content": {
            "application\/json": {
              "schema": {
                "$ref": "#\/components\/schemas\/Action"
              }
            }
          },
          "description": "@Parameter var action: Action"
        },
        "parameters": [
          {
            "description": "@Parameter var gameId: String",
            "in": "path",
            "name": "gameId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "\/v1\/player": {
      "post": {
        "operationId": "POSTCreatePlayer",
        "responses": {
          "404": {
            "description": "Not Found"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          },
          "200": {
            "content": {
              "application\/json": {
                "schema": {
                  "properties": {
                    "data": {
                      "$ref": "#\/components\/schemas\/Player"
                    },
                    "_links": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string"
                      }
                    }
                  },
                  "title": "PlayerResponse",
                  "type": "object",
                  "required": [
                    "_links",
                    "data"
                  ]
                }
              }
            },
            "description": "OK"
          },
          "403": {
            "description": "Forbidden"
          }
        },
        "description": "CreatePlayer",
        "x-handlerId": "0:0:-1:0",
        "parameters": [
          {
            "in": "query",
            "name": "name",
            "schema": {
              "type": "string"
            },
            "description": "@Parameter var name: String"
          }
        ]
      }
    }
  },
  "openapi": "3.0.0",
  "info": {
    "title": "Apodini-App",
    "version": "1.0.0"
  },
  "components": {
    "schemas": {
      "Player": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "hand": {
            "type": "array",
            "items": {
              "$ref": "#\/components\/schemas\/Card"
            }
          }
        },
        "required": [
          "hand",
          "id"
        ]
      },
      "Action": {
        "type": "object",
        "properties": {
          "gamePileId": {
            "type": "string"
          },
          "card": {
            "$ref": "#\/components\/schemas\/Card"
          },
          "playerId": {
            "type": "string"
          }
        },
        "required": [
          "card",
          "gamePileId",
          "playerId"
        ]
      },
      "Card": {
        "type": "object",
        "properties": {
          "number": {
            "type": "integer"
          }
        },
        "required": [
          "number"
        ]
      },
      "DrawPile": {
        "type": "object",
        "properties": {
          "stack": {
            "$ref": "#\/components\/schemas\/StackofCard"
          },
          "id": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "stack"
        ]
      },
      "GamePile": {
        "type": "object",
        "properties": {
          "order": {
            "type": "string",
            "enum": [
              "asc",
              "desc"
            ]
          },
          "stack": {
            "$ref": "#\/components\/schemas\/StackofCard"
          },
          "id": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "order",
          "stack"
        ]
      },
      "StackofCard": {
        "type": "object",
        "properties": {
          "storage": {
            "type": "array",
            "items": {
              "$ref": "#\/components\/schemas\/Card"
            }
          }
        },
        "required": [
          "storage"
        ]
      },
      "Game": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "open",
              "running",
              "closed"
            ]
          },
          "result": {
            "type": "string",
            "enum": [
              "win",
              "lose",
              "none"
            ]
          },
          "gamePiles": {
            "type": "array",
            "items": {
              "$ref": "#\/components\/schemas\/GamePile"
            }
          },
          "id": {
            "type": "string"
          },
          "currentActions": {
            "type": "array",
            "items": {
              "$ref": "#\/components\/schemas\/Action"
            }
          },
          "players": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#\/components\/schemas\/Player"
            }
          },
          "currentPlayerId": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "drawPile": {
            "$ref": "#\/components\/schemas\/DrawPile"
          }
        },
        "required": [
          "currentActions",
          "drawPile",
          "gamePiles",
          "id",
          "name",
          "players",
          "result",
          "status"
        ]
      }
    }
  }
}